<?xml version="1.0"?>
<!--
#######################################################################

CCPN Data Model version 3.0.2

Autogenerated by XmlModelIo on ?
  from data model element ccpnmr.gui.Task.GuiTask

#######################################################################
======================COPYRIGHT/LICENSE START==========================

GuiTask.xml: xmlmodel model for CCPN data model, MetaClass ccpnmr.gui.Task.GuiTask

Copyright (C) 2007  (CCPN Project)

=======================================================================

This library is free software; you can redistribute it and/or
modify it under the terms of the GNU Lesser General Public
License as published by the Free Software Foundation; either
version 2.1 of the License, or (at your option) any later version.

A copy of this license can be found in ../../../../../../../../..//LGPL.license

This library is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public
License along with this library; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA


======================COPYRIGHT/LICENSE END============================

for further information, please contact :

- CCPN website (http://www.ccpn.ac.uk/)

- email: ccpn@bioc.cam.ac.uk

=======================================================================

If you are using this software for academic purposes, we suggest
quoting the following references:

===========================REFERENCE START=============================
Rasmus H. Fogh, Wayne Boucher, Wim F. Vranken, Anne
Pajon, Tim J. Stevens, T.N. Bhat, John Westbrook, John M.C. Ionides and
Ernest D. Laue (2005). A framework for scientific data modeling and automated
software development. Bioinformatics 21, 1678-1684.


This file was generated with the Memops software generation framework,
and contains original contributions embedded in the framework

===========================REFERENCE END===============================
-->

<MetaClass name="GuiTask"
 guid="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
 container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00004"
 isAbstract="false" isDerived="false" isImplicit="false" isLeaf="false"
 isRoot="false" isSingleton="false" partitionsChildren="true"
 visibility="public_vis">
  <documentation>Task - group of modules that together accomplish a task. Serves both to store working activities, and as shareable template desciptions. You must pass in either an nmrProject or an nmrProjectName.</documentation>
  <keyNames>
    <item>nameSpace</item>
    <item>name</item>
  </keyNames>
  <supertypes>
    <item>www.ccpn.ac.uk_Fogh_2006-09-14-16:28:57_00002</item>
  </supertypes>
  <constructorCodeStubs>
    <item tag="python">if self.nmrProject is None:
  self.root.override = True
  try:
    self.nmrProject = self.root.findFirstNmrProject(name=self.nmrProjectName)
  finally:
    self.root.override = False
else:
  dataDict['nmrProjectName'] = self.nmrProject.name

if self.nmrProject is not None:
  if not self.windows:
    windowStore = self.nmrProject.windowStore
    if windowStore is not None:
      windows = windowStore.sortedWindows()
      for window in windows:
        if window.guiTask is None:
          break
      else:
        # There will always be at least one window - the Main one.
        nextSerial = windows[-1].serial + 1
        window = windowStore.newWindow(title='W%s' % nextSerial)
        objectsCreated.add(window)
      window.guiTask = self</item>
  </constructorCodeStubs>

  <MetaRole name="currentGuiTask"
   guid="ccpn_automatic_memops.Implementation.MemopsRoot.currentGuiTask"
   container="www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00047"
   baseName="currentGuiTask" changeability="changeable" forceUndoNotify="true"
   hicard="1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="false"
   scope="instance_level" visibility="public_vis">
    <documentation>current guiTask - may be reset by implementation.</documentation>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013</valueType>
  </MetaRole>

  <MetaOperation name="getCurrentGuiTask"
   guid="ccpn_automatic_memops.Implementation.MemopsRoot.getCurrentGuiTask"
   container="www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00047"
   isAbstract="false" isImplicit="false" isQuery="true" opType="get"
   scope="instance_level" visibility="public_vis">
    <documentation>Get for memops.Implementation.MemopsRoot.currentGuiTask</documentation>
    <target>ccpn_automatic_memops.Implementation.MemopsRoot.currentGuiTask</target>
    <codeStubs>
      <item tag="java">
result = _currentGuiTask;
if (result == null) {
  findFirstGuiTask();
  result = _currentGuiTask;
}
</item>
      <item tag="python">
result = dataDict.get('currentGuiTask')
if result is None:
  self.findFirstGuiTask()
  result = dataDict.get('currentGuiTask')
</item>
    </codeStubs>
  </MetaOperation>


  <MetaRole name="axisPositionGroups"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:42:29_00007"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="axisPositionGroup" changeability="changeable"
   forceUndoNotify="true" hicard="-1" hierarchy="child" isAbstract="false"
   isAutomatic="false" isDerived="false" isImplementation="false"
   isImplicit="false" isOrdered="false" isUnique="true" locard="0"
   noDeleteIfSet="false" partitionsChildren="false" scope="instance_level"
   visibility="public_vis">
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-04-17:42:29_00008</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-11-04-17:39:35_00002</valueType>
  </MetaRole>

  <MetaRole name="axisWidthGroups"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00012"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="axisWidthGroup" changeability="changeable" forceUndoNotify="true"
   hicard="-1" hierarchy="child" isAbstract="false" isAutomatic="false"
   isDerived="false" isImplementation="false" isImplicit="false"
   isOrdered="false" isUnique="true" locard="0" noDeleteIfSet="false"
   partitionsChildren="false" scope="instance_level" visibility="public_vis">
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00011</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-11-04-17:39:35_00003</valueType>
  </MetaRole>

  <MetaAttribute name="details"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00017"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="details" changeability="changeable" forceUndoNotify="true"
   hicard="1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" scope="instance_level" visibility="public_vis">
    <documentation>Free text, for notes, explanatory comments, etc.</documentation>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00035</valueType>
  </MetaAttribute>

  <MetaRole name="marks"
   guid="www.ccpn.ac.uk_Fogh_2014-11-11-18:25:59_00002"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="mark" changeability="changeable" forceUndoNotify="true" hicard="-1"
   hierarchy="child" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="false"
   scope="instance_level" visibility="public_vis">
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-11-18:25:59_00001</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00002</valueType>
  </MetaRole>

  <MetaRole name="guiTasks"
   guid="ccpn_automatic_memops.Implementation.MemopsRoot.guiTask"
   container="www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00047"
   baseName="guiTask" changeability="changeable" forceUndoNotify="true"
   hicard="-1" hierarchy="child" isAbstract="false" isAutomatic="false"
   isDerived="false" isImplementation="false" isImplicit="false"
   isOrdered="false" isUnique="true" locard="0" noDeleteIfSet="false"
   partitionsChildren="false" scope="instance_level" visibility="public_vis">
    <documentation>child link</documentation>
    <otherRole>ccpn_automatic_ccpnmr.gui.Task.GuiTask.memopsRoot</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013</valueType>
  </MetaRole>

  <MetaRole name="memopsRoot"
   guid="ccpn_automatic_ccpnmr.gui.Task.GuiTask.memopsRoot"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   aggregation="composite" baseName="memopsRoot" changeability="frozen"
   forceUndoNotify="true" hicard="1" hierarchy="parent" isAbstract="false"
   isAutomatic="false" isDerived="false" isImplementation="false"
   isImplicit="false" isOrdered="false" isUnique="true" locard="1"
   noDeleteIfSet="false" partitionsChildren="false" scope="instance_level"
   visibility="public_vis">
    <documentation>parent link</documentation>
    <otherRole>ccpn_automatic_memops.Implementation.MemopsRoot.guiTask</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00047</valueType>
  </MetaRole>

  <MetaRole name="modules"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00008"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="module" changeability="changeable" forceUndoNotify="true"
   hicard="-1" hierarchy="child" isAbstract="false" isAutomatic="false"
   isDerived="false" isImplementation="false" isImplicit="false"
   isOrdered="false" isUnique="true" locard="0" noDeleteIfSet="false"
   partitionsChildren="false" scope="instance_level" visibility="public_vis">
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00007</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00006</valueType>
  </MetaRole>

  <MetaAttribute name="name"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00014"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="name" changeability="frozen" forceUndoNotify="true" hicard="1"
   isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="1" scope="instance_level" visibility="public_vis">
    <documentation>Name of Task - Together with namespace identifies Task.</documentation>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00037</valueType>
  </MetaAttribute>

  <MetaAttribute name="nameSpace"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00013"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="nameSpace" changeability="frozen" forceUndoNotify="true" hicard="1"
   isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="1" scope="instance_level" visibility="public_vis">
    <documentation>Name space of Task.Groups tasks by origin. Only tasks in namespace 'user' are modifiable, and can be connected to actual data.</documentation>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00037</valueType>
    <defaultValue>
      <item>user</item>
    </defaultValue>
  </MetaAttribute>

  <MetaRole name="guiTasks"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00009"
   container="www.ccpn.ac.uk_Fogh_2006-08-16-18:19:48_00001"
   baseName="guiTask" changeability="changeable" forceUndoNotify="true"
   hicard="-1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="true"
   scope="instance_level" visibility="public_vis">
    <documentation>Gui Tasks active on NmrProject</documentation>
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00010</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013</valueType>
  </MetaRole>

  <MetaRole name="nmrProject"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00010"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="nmrProject" changeability="frozen" forceUndoNotify="true"
   hicard="1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="true"
   scope="instance_level" visibility="public_vis">
    <documentation>NmrProject that task is active in. Tasks with no NmrProject attached are not active.</documentation>
    <otherRole>www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00009</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-18:19:48_00001</valueType>
  </MetaRole>

  <MetaAttribute name="nmrProjectName"
   guid="www.ccpn.ac.uk_Fogh_2014-11-04-17:46:55_00016"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="nmrProjectName" changeability="frozen" forceUndoNotify="true"
   hicard="1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="1" scope="instance_level" visibility="public_vis">
    <documentation>NmrProject name. Serves to store link to NmrProject while task is disconnected.</documentation>
    <valueType>www.ccpn.ac.uk_Fogh_2006-08-16-14:22:53_00033</valueType>
  </MetaAttribute>

  <MetaRole name="guiTask"
   guid="www.ccpn.ac.uk_Fogh_2015-02-10-12:18:02_00001"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00001"
   baseName="guiTask" changeability="changeable" forceUndoNotify="true"
   hicard="1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="true"
   scope="instance_level" visibility="public_vis">
    <documentation>GuiTask diaplayed in a window </documentation>
    <otherRole>www.ccpn.ac.uk_Fogh_2015-02-10-12:18:02_00002</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013</valueType>
  </MetaRole>

  <MetaRole name="windows"
   guid="www.ccpn.ac.uk_Fogh_2015-02-10-12:18:02_00002"
   container="www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00013"
   baseName="window" changeability="changeable" forceUndoNotify="true"
   hicard="-1" isAbstract="false" isAutomatic="false" isDerived="false"
   isImplementation="false" isImplicit="false" isOrdered="false" isUnique="true"
   locard="0" noDeleteIfSet="false" partitionsChildren="true"
   scope="instance_level" visibility="public_vis">
    <documentation>Wndows displaying GuiTAsk</documentation>
    <otherRole>www.ccpn.ac.uk_Fogh_2015-02-10-12:18:02_00001</otherRole>
    <valueType>www.ccpn.ac.uk_Fogh_2014-10-31-16:36:26_00001</valueType>
  </MetaRole>
</MetaClass>

